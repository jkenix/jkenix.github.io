"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[631],{43:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(294),s=Object.defineProperty,l=(e,t,n)=>(((e,t,n)=>{t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const o=(e,t)=>typeof getComputedStyle<"u"?getComputedStyle(e,null).getPropertyValue(t):e.style.getPropertyValue(t),i=e=>o(e,"overflow")+o(e,"overflow-y")+o(e,"overflow-x");class a extends r.Component{constructor(e){super(e),l(this,"elementObserver"),l(this,"wrapper"),l(this,"lazyLoadHandler",(e=>{var t,n;const{onContentVisible:r}=this.props,[s]=e,{isIntersecting:l}=s;if(l){this.setState({visible:!0},(()=>{r&&r()}));const e=null==(t=this.wrapper)?void 0:t.current;e&&e instanceof HTMLElement&&(null==(n=this.elementObserver)||n.unobserve(e))}})),this.elementObserver=null,this.wrapper=r.createRef(),this.state={visible:!1}}componentDidMount(){var e;this.getEventNode();const{offset:t,threshold:n}=this.props,r={rootMargin:"number"==typeof t?`${t}px`:t||"0px",threshold:n||0};this.elementObserver=new IntersectionObserver(this.lazyLoadHandler,r);const s=null==(e=this.wrapper)?void 0:e.current;s instanceof HTMLElement&&this.elementObserver.observe(s)}shouldComponentUpdate(e,t){return t.visible}componentWillUnmount(){var e,t;const n=null==(e=this.wrapper)?void 0:e.current;n&&n instanceof HTMLElement&&(null==(t=this.elementObserver)||t.unobserve(n))}getEventNode(){var e;return(e=>{if(!(e instanceof HTMLElement))return window;let t=e;for(;t&&t!==document.body&&t!==document.documentElement&&t.parentNode;){if(/(scroll|auto)/.test(i(t)))return t;t=t.parentNode}return window})(null==(e=this.wrapper)?void 0:e.current)}render(){const{children:e,className:t,height:n,width:s,elementType:l}=this.props,{visible:o}=this.state,i={height:n,width:s},a=`LazyLoad${o?" is-visible":""}${t?` ${t}`:""}`;return(0,r.createElement)(l||"div",{className:a,style:i,ref:this.wrapper},o&&r.Children.only(e))}}l(a,"defaultProps",{elementType:"div",className:"",offset:0,threshold:0,width:null,onContentVisible:null,height:null})}}]);
//# sourceMappingURL=npm.react-lazy-load.js.map